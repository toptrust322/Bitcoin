{% comment %}
This file is licensed under the MIT License (MIT) available on
http://opensource.org/licenses/MIT.
{% endcomment %}

<div class="wallet-selector">
  <div class="container">
    
    <div class="wallet-selector-row">
      <div class="sidebar-selector"> 
        <div class="sidebar-selector-section">
          <h3 class="sidebar-selector-title">Operating System:</h3>
          <div class="sidebar-selector-platforms">
            <div class="sidebar-selector-platforms-row">
              <div class="sidebar-selector-platform">
                <div class="sidebar-selector-label-row">
                  <h3 class="sidebar-selector-label">Mobile:</h3>
                  <div class="sidebar-selector-info tooltip-trigger">
                    <img src="/img/icons/info-alt.svg" alt="info">
                    <div class="wallet-selector-tooltip tooltip">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </div>
                  </div>
                </div>
                <div class="sidebar-selector-os-row">
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="android"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_android.svg" alt="android" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_android_bright.svg" alt="android" class="platform-radio-icon-active">
                    </div>
                  </label>
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="ios"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_mac.svg" alt="ios" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_mac_bright.svg" alt="ios" class="platform-radio-icon-active">
                    </div>
                  </label>
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="windows"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_windows.svg" alt="windows" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_windows_bright.svg" alt="windows" class="platform-radio-icon-active">
                    </div>
                  </label>
                </div>
              </div>
              <div class="sidebar-selector-platform">
                <div class="sidebar-selector-label-row">
                  <h3 class="sidebar-selector-label">Desktop:</h3>
                  <div class="sidebar-selector-info tooltip-trigger">
                    <img src="/img/icons/info-alt.svg" alt="info">
                    <div class="wallet-selector-tooltip tooltip">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </div>
                  </div>
                </div>
                <div class="sidebar-selector-os-row">
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="linux"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_linux.svg" alt="linux" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_linux_bright.svg" alt="linux" class="platform-radio-icon-active">
                    </div>
                  </label>
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="mac"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_mac.svg" alt="mac" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_mac_bright.svg" alt="mac" class="platform-radio-icon-active">
                    </div>
                  </label>
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="windows"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_windows.svg" alt="windows" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_windows_bright.svg" alt="windows" class="platform-radio-icon-active">
                    </div>
                  </label>
                </div>
              </div>
            </div>
            <div class="sidebar-selector-platforms-row">
              <div class="sidebar-selector-platform">
                <div class="sidebar-selector-label-row">
                  <h3 class="sidebar-selector-label">Hardware:</h3>
                  <div class="sidebar-selector-info tooltip-trigger">
                    <img src="/img/icons/info-alt.svg" alt="info">
                    <div class="wallet-selector-tooltip tooltip">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </div>
                  </div>
                </div>
                <div class="sidebar-selector-os-row">
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="hardware"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_hardware.svg" alt="hardware" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_hardware_bright.svg" alt="hardware" class="platform-radio-icon-active">
                    </div>
                  </label>
                </div>
              </div>
              <div class="sidebar-selector-platform">
                <div class="sidebar-selector-label-row">
                  <h3 class="sidebar-selector-label">Web:</h3>
                  <div class="sidebar-selector-info tooltip-trigger">
                    <img src="/img/icons/info-alt.svg" alt="info">
                    <div class="wallet-selector-tooltip tooltip">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </div>
                  </div>
                </div>
                <div class="sidebar-selector-os-row">
                  <label class="platform-radio-wrapper">
                    <input id="walletSelector" type="radio" class="platform-radio" name="platform" value="web"/>
                    <div class="platform-radio-custom">
                      <img src="/img/os/wallet_menu_web.svg" alt="web" class="platform-radio-icon-inactive">
                      <img src="/img/os/wallet_menu_web_bright.svg" alt="web" class="platform-radio-icon-active">
                    </div>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="sidebar-selector-section">
          <h3 class="sidebar-selector-title">Ease of use:</h3>
          <div class="user-radio-row">
            <label class="user-radio-wrapper">
              <input id="walletSelector" type="radio" class="user-radio" name="user" value="beginner"  />
              <div class="user-radio-text">Beginners</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="user-radio-row">
            <label class="user-radio-wrapper">
              <input id="walletSelector" type="radio" class="user-radio" name="user" value="experienced" />
              <div class="user-radio-text">Experienced</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
        </div>
        <div class="sidebar-selector-section">
          <div class="sidebar-selector-section-top">
            <h3 class="sidebar-selector-title">Benchmarks:</h3>
            <span class="allowed-criteria-amount">0/3</span>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="control" class="checkbox" />
              <div class="checkbox-text">Control</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="validation" class="checkbox" />
              <div class="checkbox-text">Validation</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="transparency" class="checkbox" />
              <div class="checkbox-text">Transparency</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="environment" class="checkbox" />
              <div class="checkbox-text">Environment</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="fees" class="checkbox" />
              <div class="checkbox-text">Fees</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="privacyaddressreuse" class="checkbox" />
              <div class="checkbox-text">Reuse</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="privacydisclosure" class="checkbox" />
              <div class="checkbox-text">Disclosure</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="important" value="privacynetwork" class="checkbox" />
              <div class="checkbox-text">Tor</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
        </div>
        <div class="sidebar-selector-section">
          <div class="sidebar-selector-section-top">
            <h3 class="sidebar-selector-title">Features:</h3>
            <span class="allowed-criteria-amount">0/2</span>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="2fa" class="checkbox" />
              <div class="checkbox-text">2FA</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="bech32" class="checkbox" />
              <div class="checkbox-text">Bech32</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="full_node" class="checkbox" />
              <div class="checkbox-text">Full Node</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="hardware_wallet" class="checkbox" />
              <div class="checkbox-text">Hardware Wallet</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="legacy_addresses" class="checkbox" />
              <div class="checkbox-text">Legacy Addresses</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="lightning" class="checkbox" />
              <div class="checkbox-text">Lightning</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="mixing_shuffling" class="checkbox" />
              <div class="checkbox-text">Mixing / Shuffling</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="multisig" class="checkbox" />
              <div class="checkbox-text">Multisig</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
          <div class="important-checkbox-row">
            <label class="checkbox-wrapper">
              <input id="walletSelector" type="checkbox" name="features" value="segwit" class="checkbox" />
              <div class="checkbox-text">Segwit</div>
            </label>
            <div class="sidebar-selector-info tooltip-trigger">
              <img src="/img/icons/info-alt.svg" alt="info">
              <div class="wallet-selector-tooltip tooltip">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </div>
            </div>
          </div>
        </div>
        <h3 class="sidebar-selector-title">Need some help?</h3>
        <p class="sidebar-selector-text">You can find more information and help on the resources and community pages or on the Wiki FAQ</p>
      </div>

      <div class="wallet-selector-content">
        <div class="wallet-table">
          
            <div class="wallet-table-row">
              <div class="wallet-table-head">
                <p class="wallet-table-title">iOS Wallets:</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Control</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Validation</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Transparency</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Environment</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Fees</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Reuse</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Privacy<br>Disclosure</p>
              </div>
              <div class="wallet-table-head">
                <p class="wallet-table-title">Tor</p>
              </div>
            </div>
          
            {% for wallet in site.wallets %}
              {% for platform in wallet.platform %}
                {% for os in platform.os %}
                  <a
                    id="walletLink"
                    href="{% if platform.name == os.name %}/{{page.lang}}/wallets/{{platform.name}}/{{wallet.id}}/{% else %}/{{page.lang}}/wallets/{{platform.name}}/{{os.name}}/{{wallet.id}}/{% endif %}"
                    class="wallet-table-row hidden"
                    data-categories="{% for check in os.check %}{% assign checkValue = check[1] %}{% assign checkName = check[0] %}{% if checkValue contains 'checkgood' %}{{checkName}} {% endif %}{% endfor %}{{os.name}}"
                  >
                    <div class="wallet-table-data">
                      <img class="wallet-img" src="/img/wallet/{{ wallet.id }}.png?{{site.time | date: '%s'}}" alt="{{ wallet.title }}" />
                      <span class="wallet-label">{{wallet.title}}</span>
                    </div>
                    {% for check in os.check %}
                      {% assign checkName = check[0] %}
                      {% if checkName == "privacy" %}
                        {% continue %}
                      {% endif %}
                      {% assign checkValue = check[1] %}
                      <div class="wallet-table-data">
                        <div class="wallet-{% if checkValue contains 'checkgood' %}good{% elsif checkValue contains 'checkpass' %}good{% elsif checkValue contains 'checkfail' %}caution{% elsif checkValue contains 'checkneutral' %}neutral{% endif %}"></div>
                      </div>
                    {% endfor %}
                    {% if os.privacycheck %}
                      {% for privacycheck in os.privacycheck %}
                        {% assign privacycheckValue = privacycheck[1] %}
                        <div class="wallet-table-data">
                          <div class="wallet-{% if privacycheckValue contains 'checkgood' %}good{% elsif privacycheckValue contains 'checkpass' %}good{% elsif privacycheckValue contains 'checkfail' %}caution{% elsif privacycheckValue contains 'checkneutral' %}neutral{% endif %}"></div>
                        </div>
                      {% endfor %}
                    {% else %}
                      <div class="wallet-table-data">-</div>
                      <div class="wallet-table-data">-</div>
                      <div class="wallet-table-data">-</div>
                    {% endif %}
                  </a>
                {% endfor %}
              {% endfor %}
            {% endfor %}
        </div>

        <div class="wallet-hints-row">
          <div class="wallet-hint">
            <div class="wallet-good"></div>
            <p class="wallet-hint-text">- Good</p>
          </div>
          <div class="wallet-hint">
            <div class="wallet-caution"></div>
            <p class="wallet-hint-text">- Caution</p>
          </div>
          <div class="wallet-hint">
            <div class="wallet-neutral"></div>
            <p class="wallet-hint-text">- Neutral</p>
          </div>
        </div>

        <div class="empty-box no-matching-box hidden">
          <img src="/img/icons/emty.svg" alt="wallet with magnifier">
          <h2 class="empty-box-title">No matching wallets found</h2>
          <p class="empty-box-text">No wallets matching your search criteria
          were found. Please update your search criteria and try again.</p>
        </div>

        <div class="empty-box browse-wallets-box">
          <img src="/img/icons/emty.svg" alt="wallet with magnifier">
          <h2 class="empty-box-title">Browse wallets</h2>
          <p class="empty-box-text">Use the wallet selector to browse wallets that match your search criteria</p>
        </div>
      </div>

    </div>
  </div>
</div>  

<script>
  var queries = {};

  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  };

  function updateQueryStringParameter(key, value) {
    var uri = window.location.href;
    var re = new RegExp("([?&])" + key + "=.*?(&|$)", "i");
    var separator = uri.indexOf('?') !== -1 ? "&" : "?";
    if (uri.match(re)) {
      return uri.replace(re, '$1' + key + "=" + value + '$2');
    }
    else {
      return uri + separator + key + "=" + value;
    }
  }

  function setUrlParametr(key, value) {
    history.pushState(null, null, updateQueryStringParameter(key, value));
  }
  
  var categoryFilters = [];
  function onSelectorChange(selector) {
    if (selector.checked) {
      categoryFilters.push(selector.value)
      console.log(categoryFilters)
    } else {
      
    }
  }
  
  var linksList = document.querySelectorAll('#walletLink');  
  function setListners() {  
    var selectorsList = document.querySelectorAll('#walletSelector');
    selectorsList.forEach(function(selector) {
      selector.addEventListener('change', function() {
        onSelectorChange(selector);
      });
    });
    
    linksList.forEach(function(link) {
      link.addEventListener('click', function(e) {
        var href = this.getAttribute("href");
        var parameters = '?';
        
        for (const query in queries) {
          if (parameters.length > 1) parameters += '&' + query + '=' + queries[query]
          else parameters += query + '=' + queries[query]
        }
        location.href = href + parameters;
        e.preventDefault()
      });
    });
  }
  
  function filterWallets() {
    for (var query in queries) {
      var relevantLinks = document.querySelectorAll('[data-' + query + '=' + queries[query] + ']' );

      relevantLinks.forEach(function(link) {
        link.classList.remove('hidden')
      })
    }
  }

  var emptyBox = document.querySelector('.browse-wallets-box')
  function init() {
    if (window.location.search) {
      emptyBox.classList.add('hidden')
    }
    setListners()
  }

  init()
  
</script>
