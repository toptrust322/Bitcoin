---
# This file is licensed under the MIT License (MIT) available on
# http://opensource.org/licenses/MIT.

layout: base
---
  
{{ content }}

<div class="container">
  <div class="walletsdisclaimer">
    <h2 id="educate-yourself">{% translate educate choose-your-wallet %}</h2>
    <p>
      {% translate educatetxt choose-your-wallet %}
    </p>
  </div>
</div>

<script>
  function accordion() {
    var tabs = document.querySelectorAll('.js-tab');

    for (var i = 0; i < tabs.length; i++) {
      tabs[i].addEventListener('click', function () {
        this.classList.toggle('is-expanded');

        for (var index = 0; index < tabs.length; index++) {
          if (!(this == tabs[index])) {
            tabs[index].classList.remove("is-expanded");
          } 
        }
      });
    }
  }
  accordion();

  function showNextAccordion() {
    var platformItems = document.querySelectorAll('.js-platform');
    var tabs = document.querySelectorAll('.accordion-tab');
    var platformTab = document.querySelector('.accordion-tab-1');
    var osAccordion = document.querySelectorAll('.accordion-os');
    var walletAccordion = document.querySelector('.accordion-wallets');

    for (var i = 0; i < platformItems.length; i++) {
      platformItems[i].addEventListener('click', function (e) {

        for (var num = 0; num < tabs.length; num++) {
          tabs[num].classList.remove('is-selected');
          tabs[num].querySelector('.selected-item').textContent = "";
        }

        var selectedPlatform = e.target;
        var platformName = (selectedPlatform.textContent).toLowerCase();
        document.querySelector('.selected-platform').textContent = platformName;

        // Display next accordion and hide non selected accordion
        for (var a = 0; a < osAccordion.length; a++) {
          if (platformName === osAccordion[a].dataset.os) {
            osAccordion[a].classList.add('is-visible');
            platformTab.classList.add('is-selected');
          } else {
            osAccordion[a].classList.remove('is-visible');
          }
        }

        // Close accordion after selection
        platformTab.classList.remove('is-expanded');
        // Hide wallet accordion if user want to change platform
        walletAccordion.classList.remove('is-visible');

      });
    }
  }

  showNextAccordion();
</script> 
{% if page.id != "choose-your-wallet" %}
<script>    
  var pageUrl = (window.location.pathname).split("/").filter(Boolean);
  var platform = pageUrl[2];
  var os = pageUrl[3];
  var wallet = pageUrl[4];
  // var accrodions = document.querySelectorAll('.accordion');
  var platformTab = document.querySelector('.accordion-tab-1');
  
  platformTab.classList.add('is-selected');
  document.querySelector('.selected-platform').textContent = platform;

  if (os) {
    if (platform === "desktop" || platform === "mobile") {   
      var osAccordion = document.querySelectorAll('.accordion-os');
      // Display relevant os accordion
      for (var a = 0; a < osAccordion.length; a++) {
        if (platform === osAccordion[a].dataset.os) {
          var relevantOsAcc = osAccordion[a];
          relevantOsAcc.classList.add('is-visible');

          // Made relevant accordion tab selected
          relevantOsAcc.querySelector('.accordion-tab-2').classList.add('is-selected');
          if (os === 'windowsphone') {
            os = 'windows phone';
          }
          relevantOsAcc.querySelector('.selected-os').textContent = os;
        }
      }
    } else {
      wallet = os;
    }
  }

  if (wallet) {
    var walletTab = document.querySelector('.accordion-tab-3');
    walletTab.classList.add('is-selected')
    document.querySelector('.selected-wallet').textContent = wallet;
  }
  
</script> 
{% endif %}
